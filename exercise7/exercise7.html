<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">

    <title>Animation</title>
    <meta name="description" content="content here">

    <link rel="stylesheet" href="../styles.css">
    <script src="../drawing.js"></script>  
    <script src="../objects.js"></script>  
</head>

<body>
  <h1>Animation</h1>
  <canvas id="asteroids" width="300" height="300"></canvas>
  <script>
    let context = document.getElementById("asteroids").getContext("2d");

    let asteroid = new Asteroid(24, 50, 0.2);

    for (let i = 0; i < asteroid.segments; i++) {
      asteroid.shape.push(Math.random() - 0.5);
    }
    let draw = (ctx, guide) => {
      if(guide) {
        draw_grid(ctx);
      }
      asteroid.draw(ctx, guide);
    }

    let update = (elapsed) => {
      asteroid.update(elapsed);
    }

    let previous, elapsed;
    let frame = (timestamp) => {
      context.clearRect(0, 0, context.canvas.width, context.canvas.height);
      if (!previous) previous = timestamp;
      elapsed = timestamp - previous;
      update(elapsed / 1000);
      draw(context, true);
      previous = timestamp;
      window.requestAnimationFrame(frame);
    }
    window.requestAnimationFrame(frame);
  </script>
</body>
</html>

